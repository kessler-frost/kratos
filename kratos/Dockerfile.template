FROM ghcr.io/astral-sh/uv:debian-slim

# Create working directory
RUN mkdir -p /workdir
WORKDIR /workdir

# Initialize uv project and install common dependencies
RUN uv init
RUN uv add agno cloudpickle openai ddgs duckduckgo-search yfinance youtube-transcript-api

# Install any additional dependencies if specified
{{DEPENDENCIES_INSTALL}}

# Copy the serialized agent
COPY agent.pkl /workdir/agent.pkl

# Set the default command to sleep (will be overridden at runtime)
CMD ["sleep", "infinity"]
